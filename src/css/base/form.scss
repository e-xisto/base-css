
$input-background-color: #fff;

$input-border-width: 1px;
$input-border-radius: 4px;
$input-border-color: map-get($grayscale, gray);

$input-font-size: 1rem;
$input-font-weight: normal;
$input-font-color: map-get($grayscale, dark);
$input-font-family: $font-family-base;

$input-height: 42px;
$input-padding-x: 1rem;
$input-padding-y: 1em / $font-scale-factor;
$input-line-height: 1em;

$input-focus-background-color: lighten(map-get($colors, warning), 40%);
$input-focus-border-color: $input-focus-background-color;
$input-focus-font-color: $input-font-color;
$input-focus-shadow-color: map-get($grayscale, light);

$input-placeholder-color: map-get($grayscale, gray);

$label-font-size: 1rem;
$label-font-weight: bold;
$label-font-color: map-get($grayscale, dark);
$label-font-family: $font-family-base;

form {

	.valid-feedback {
		display: none;
		color: $color-success;
		font-size: 14px;
		margin-top: 5px;
	}

	.invalid-feedback {
		display: none;
		color: $color-danger;
		font-size: 14px;
		margin-top: 5px;
	}	
}

form.was-validated {

	.form-input {

		input:valid {
			border-color: $color-success;

			&:focus { box-shadow: 0px 0px 0px 3px rgba($color-success, 0.5); }
		}
		input:invalid {
			border-color: $color-danger;

			&:focus { box-shadow: 0px 0px 0px 3px rgba($color-danger, 0.5); }
		}

		input:valid + .valid-feedback,
		input:invalid + .invalid-feedback,
		input:valid + .invalid-feedback + .valid-feedback,
		input:invalid + .valid-feedback + .invalid-feedback { display: block; }
	}

	.form-textarea {

		textarea:valid {
			border-color: $color-success;

			&:focus { box-shadow: 0px 0px 0px 3px rgba($color-success, 0.5); }
		}
		textarea:invalid {
			border-color: $color-danger;

			&:focus { box-shadow: 0px 0px 0px 3px rgba($color-danger, 0.5); }
		}

		textarea:valid + .valid-feedback,
		textarea:invalid + .invalid-feedback,
		textarea:valid + .invalid-feedback + .valid-feedback,
		textarea:invalid + .valid-feedback + .invalid-feedback { display: block; }		
	}

	.form-select {

		select:valid {
			border-color: $color-success;

			&:focus { box-shadow: 0px 0px 0px 3px rgba($color-success, 0.5); }
		}
		select:invalid {
			border-color: $color-danger;

			&:focus { box-shadow: 0px 0px 0px 3px rgba($color-danger, 0.5); }
		}

		select:valid + .valid-feedback,
		select:invalid + .invalid-feedback,
		select:valid + .invalid-feedback + .valid-feedback,
		select:invalid + .valid-feedback + .invalid-feedback { display: block; }		
	}

	.form-check {

		input:valid {
			border-color: $color-success;

			&:focus { box-shadow: 0px 0px 0px 3px rgba($color-success, 0.5); }

			+ label, 
			+ label a { color: $color-success; }
		}
		input:invalid {
			border-color: $color-danger;

			&:focus { box-shadow: 0px 0px 0px 3px rgba($color-danger, 0.5); }
			
			+ label,
			+ label a { color: $color-danger;}
		}

		input:valid + label +.valid-feedback,
		input:invalid + label +.invalid-feedback,
		input:valid + label +.invalid-feedback + .valid-feedback,
		input:invalid + label + .valid-feedback + .invalid-feedback {
			display: block;
			margin-left: 18px;
		}		
	}
}

.form-input,
.form-label,
.form-select,
.form-textarea {
	width: auto;
	margin-bottom: $base-space-size;

	label {
		display: inline-block;
		color: $label-font-color;
		font-size: $label-font-size;
		font-weight: $label-font-weight;
		font-family: $label-font-family;
		margin-bottom: $base-space-size / pow($font-scale-factor, 3)
	}

	input,
	select,
	textarea {
		display: block;
  		width: 100%;
  		color: $input-font-color;
  		font-size: $input-font-size;
  		background-color: $input-background-color;
  		line-height: 1em;
		height: $input-height;
  		padding: $input-padding-y $input-padding-x;
		border-radius: $input-border-radius;
  		border: $input-border-width solid $input-border-color;		
  		background-clip: padding-box;

		transition: color .3s ease-in-out,
					background-color .3s ease-in-out,
					border-color .3s ease-in-out, 
					box-shadow .2s ease-out;	

		&::placeholder {
			color: $input-placeholder-color;
			opacity: 1;
		}

		&:focus {
			outline: 0px;
			box-shadow: 0px 0px 0px 3px darken($input-focus-shadow-color, 10%);
			background-color: $input-focus-background-color;
			color: $input-focus-font-color;
			border-color: $input-focus-border-color;
			z-index: 100; // Mantiene el box-shadow sobre el resto de elementos

			&:hover:active {
				box-shadow: none;
			}
		}

		&.disabled,
		&:disabled {
			opacity: 0.35;
			cursor: not-allowed;
		}

		&.readonly,
		&[readonly] {
			color: $input-font-color;
			background-color: map-get($grayscale, light);
			cursor: not-allowed;

			&:focus {
				box-shadow: none;
				background-color: map-get($grayscale, light);
				color: $input-focus-font-color;
				border-color: $input-border-color;

				&:hover:active { box-shadow: none; }
			}
		}		
	}

	small {
		color: map-get($grayscale, midtone)
	}

	&.form-sm,
	&.form-size-sm {

		input,
		select {
			font-size: 1em / $font-scale-factor;
			height: round($input-height / $font-scale-factor); 
		}		
	}

	&.form-md,
	&.form-size-md {

		input,
		select {		
			font-size: 1em * $font-scale-factor;
			height: round($input-height * $font-scale-factor); 
		}
	}

	&.form-lg,
	&.form-size-lg {
		input,
		select {		
			font-size: 1em * $font-scale-factor * $font-scale-factor;
			height: round($input-height * $font-scale-factor * $font-scale-factor); 
		}
	}	

	> [class^="icons-"],
	> [class*=" icons-"] {
		width: 100%;
		position: relative;
		
		input { padding-left: $base-space-size * 2.5; }
		
		&:not(:first-child):not(:last-child) input {
			border-left: none !important;
			border-right: none !important;
			border-radius: 0  !important;
		}

		&:first-child:last-child input {
			border-radius: $input-border-radius  !important;
			border: $input-border-width solid $input-border-color  !important;
		}

		&:first-child input {
			border-right: none  !important;
			border-top-right-radius: 0  !important;
			border-bottom-right-radius: 0  !important;	
		}

		&:last-child input {
			border-left: none  !important;
			border-top-left-radius: 0  !important;
			border-bottom-left-radius: 0  !important;	
		}			
	}

	> [class^="icons-"]:before,
	> [class*=" icons-"]:before { 
		font-size: 1.5em; 
		left: 8px;
		margin-left: 0;
		margin-right: 0;
		position: absolute;
		z-index: 300;
		height: 100%;
		line-height: $input-height;
		color: map-get($grayscale, midtone);
	}	

}

.form-input {

	input {
		height: $input-height; 
	}

	.valid {}
	.invalid {}

	.input-group {
		display: flex;
		
		input {

			&:not(:first-child):not(:last-child) {
				border-left: none;
				border-right: none;
				border-radius: 0;
			}

			&:first-child:last-child {
				border-radius: $input-border-radius;
				border: $input-border-width solid $input-border-color;
			}

			&:first-child {
				border-right: none;
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;	
			}

			&:last-child {
				border-left: none;
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;	
			}		
		}

		.text {
			font-size: $input-font-size;
			color: $input-font-color;
			background-color: map-get($grayscale, light);
			line-height: $input-height ;
			height: $input-height;
			padding: 0 $input-padding-x / $font-scale-factor;
			border-radius: $input-border-radius;
			border: $input-border-width solid $input-border-color;
			white-space: nowrap;

			[class^="icons-"]:before,
			[class*=" icons-"]:before { 
				font-size: 1.15em; 
			}

			+ .text,
			+ .btn, + .button {
				border-left: none;
			}

			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}

			&:first-child {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;	
			}

			&:last-child {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;	
			}	
		}	

		.icon {

		}			

		.btn,
		.button {

			+ .text,
			+ .btn, + .button {
				border-left: none;
			}			

			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}

			&:first-child {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;	
			}

			&:last-child {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;	
			}	
		}
	}
}

.form-label {

	input,
	select, 
	textarea {
  		color: $input-font-color;
  		background-color: map-get($grayscale, light);

		&:focus {
			box-shadow: none;
			background-color: map-get($grayscale, light);
			color: $input-focus-font-color;
			border-color: $input-border-color;

			&:hover:active { box-shadow: none; }
		}
	}
}

.form-select {

	select {
		// Error con alto línea en Firefox
		padding: 0 $input-padding-x;

		// Eliminar la apariencia por defecto del navegador
		-moz-appearance: none;
		-webkit-appearance: none;
		appearance: none;

		// Caret personalizado
		padding-right: 35px !important;
		background: #fff url(/imagenes/icon-select.svg) no-repeat;
		background-position: right 10px center;

		// Eliminar la línea de puntos en firefox
		&:-moz-focusring {
			color: transparent;
			text-shadow: 0 0 0 #7A8587;
		}

		&:focus::-ms-value {
			color: $input-font-color;
			background-color: #fff;
		}		
	}
}

.form-textarea {
	
	textarea {
  		line-height: 1.5em;
		height: auto;
		resize: none;			
	}
}


.form-check {}

.form-option {}

.form-switch {}

.form-file {}




